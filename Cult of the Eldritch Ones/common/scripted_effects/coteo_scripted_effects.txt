create_lowborn_cultist = {
  create_character = {
    random_traits = yes
    dynasty = none
    religion = ROOT
    culture = ROOT
    trait = cynical
  }
  new_character = {
    set_secret_religion = eldritch_gods
    save_event_target_as = created_lowborn_cultist
    log = "Eldritch Investigation: ----> Ambusher created named [created_lowborn_cultist.GetBestName]"
    random = {
      chance = 50
      liege = {
        any_realm_character = {
          limit = { is_ruler = yes }
          event_target:created_lowborn_cultist = {
            move_character = PREV
          }
        }
      }
    }
  }
}

eld_did_zealous_act_against = {
  set_character_flag = eldritch_cult_rejected
  if = {
    limit = { trait = interest_in_weird }
    remove_trait = interest_in_weird
  }
}

add_wicked_priest = {
  if = {
    limit = { religion_group = christian }
    add_trait = bad_priest_christian
  }
  if = {
    limit = { religion_group = muslim }
    add_trait = bad_priest_muslim
  }
  if = {
    limit = { 
      OR = {
        religion = norse_pagan
        religion = norse_pagan_reformed
      }
    }
    add_trait = bad_priest_norse
  }
  if = {
    limit = { 
      OR = {
        religion = tengri_pagan
        religion = tengri_pagan_reformed
      }
    }
    add_trait = bad_priest_tengri
  }
  if = {
    limit = { 
      OR = {
        religion = aztec
        religion = aztec_reformed
      }
    }
    add_trait = bad_priest_aztec
  }
  if = {
    limit = { religion_group = zoroastrian_group }
    add_trait = bad_priest_zoroastrian
  }
}

## Eldritch Proofs
add_tiny_eldritch_proof_var = {
  change_variable = { which = "eldritch_proof_var" value = 1 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_proof_var_gained" value = 1 }
  }
} # 1

add_small_eldritch_proof_var = {
  change_variable = { which = "eldritch_proof_var" value = 4 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_proof_var_gained" value = 4 }
  }
} # 4

add_medium_eldritch_proof_var = {
  change_variable = { which = "eldritch_proof_var" value = 10 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_proof_var_gained" value = 8 }
  }
} # 8

add_decent_eldritch_proof_var = {
  change_variable = { which = "eldritch_proof_var" value = 15 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_proof_var_gained" value = 12 }
  }
} # 12

add_large_eldritch_proof_var = {
  change_variable = { which = "eldritch_proof_var" value = 18 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_proof_var_gained" value = 16 }
  }
} # 16

add_massive_eldritch_proof_var = {
  change_variable = { which = "eldritch_proof_var" value = 100 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_proof_var_gained" value = 100 }
  }
} # 100

### Eldritch Insights
add_tiny_eldritch_insight_var = {
  change_variable = { which = "eldritch_insight_var" value = 1 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_insight_var_gained" value = 1 }
  }
} # 1

add_small_eldritch_insight_var = {
  change_variable = { which = "eldritch_insight_var" value = 2 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_insight_var_gained" value = 2 }
  }
} # 2

add_medium_eldritch_insight_var = {
  change_variable = { which = "eldritch_insight_var" value = 5 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_insight_var_gained" value = 5 }
  }
} # 5

add_large_eldritch_insight_var = {
  change_variable = { which = "eldritch_insight_var" value = 10 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_insight_var_gained" value = 10 }
  }
} # 10

add_massive_eldritch_insight_var = {
  change_variable = { which = "eldritch_insight_var" value = 20 }
  hidden_tooltip = {
    change_variable = { which = "eldritch_insight_var_gained" value = 20 }
  }
} # 20

clear_eldritch_proof_var_insight_gains = {
  hidden_tooltip = {
    set_variable = { which = "eldritch_insight_var_gained" value = 0 }
    set_variable = { which = "eldritch_proof_var_gained" value = 0 }
  }
}
